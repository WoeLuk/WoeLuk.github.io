import{c as pt,a as Q,t as X}from"../chunks/95_l2rzH.js";import{p as nt,l as W,m as ut,t as r,v as t,o as a,w as V,g as s,s as st,k as it,n as G}from"../chunks/Cau8z7w8.js";import{s as e}from"../chunks/Cv_SUIVi.js";import{i as ht,s as mt,a as ot}from"../chunks/Df8EspDC.js";import{e as yt,i as wt,$ as xt,s as $t,w as Lt}from"../chunks/D2-4r9CG.js";import{p as Ct}from"../chunks/D0CfZRRY.js";import{s as It}from"../chunks/C_yyQNa1.js";import{p as Dt}from"../chunks/CmjAMb9Q.js";import{o as Nt}from"../chunks/B9GAXeb5.js";var Qt=X('<tr class="border-t border-gray-200 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700"><td class="p-2 sm:p-3"></td><td class="p-2 sm:p-3"><a class="hover:underline text-black dark:text-white"> </a></td><td class="p-2 sm:p-3"><a href="constructors" class="hover:underline text-black dark:text-white"> </a></td><td class="p-2 sm:p-3"> </td><td class="p-2 sm:p-3"> </td><td class="p-2 sm:p-3"> </td></tr>'),St=X('<h2 class="text-xl sm:text-2xl font-semibold mb-2 text-black dark:text-white"> </h2> <div class="overflow-x-auto"><table class="min-w-full text-sm sm:text-base border rounded-lg overflow-hidden bg-white dark:bg-gray-800 text-black dark:text-white"><thead class="bg-gray-100 dark:bg-gray-700 text-black dark:text-white"><tr><th class="p-2 sm:p-3 text-left"> </th><th class="p-2 sm:p-3 text-left"> </th><th class="p-2 sm:p-3 text-left"> </th><th class="p-2 sm:p-3 text-left"> </th><th class="p-2 sm:p-3 text-left"> </th><th class="p-2 sm:p-3 text-left"> </th></tr></thead><tbody></tbody></table></div>',1),Pt=X('<p class="text-gray-500 dark:text-gray-400 mt-4"> </p>');function Tt(Y,x){nt(x,!0);const[H,Z]=mt(),v=()=>ot(xt,"$t",H);var z=pt(),w=W(z);{var M=d=>{var o=St(),i=W(o),$=r(i,!0);t(i);var p=a(i,2),O=r(p),I=r(O),P=r(I),j=r(P),J=r(j,!0);t(j);var _=a(j),A=r(_,!0);t(_);var u=a(_),K=r(u,!0);t(u);var g=a(u),N=r(g,!0);t(g);var R=a(g),F=r(R,!0);t(R);var b=a(R),B=r(b,!0);t(b),t(P),t(I);var D=a(I);yt(D,21,()=>x.qualifyingResults,wt,(T,c,L)=>{var m=Qt(),h=r(m);h.textContent=L+1;var l=a(h),n=r(l),f=r(n);t(n),t(l);var k=a(l),U=r(k),C=r(U,!0);t(U),t(k);var y=a(k),tt=r(y,!0);t(y);var q=a(y),rt=r(q,!0);t(q);var lt=a(q),E=r(lt,!0);t(lt),t(m),V(()=>{$t(n,"href",`driver?driverId=${s(c).Driver.driverId??""}`),e(f,`${s(c).Driver.givenName??""} ${s(c).Driver.familyName??""}`),e(C,s(c).Constructor.name),e(tt,s(c).Q1||"-"),e(rt,s(c).Q2||"-"),e(E,s(c).Q3||"-")}),Q(T,m)}),t(D),t(O),t(p),V((T,c,L,m,h,l,n)=>{e($,T),e(J,c),e(A,L),e(K,m),e(N,h),e(F,l),e(B,n)},[()=>v()("quali_results"),()=>v()("pos"),()=>v()("driver"),()=>v()("team"),()=>v()("q1"),()=>v()("q2"),()=>v()("q3")]),Q(d,o)},S=d=>{var o=Pt(),i=r(o,!0);t(o),V($=>e(i,$),[()=>v()("no_quali_results")]),Q(d,o)};ht(w,d=>{x.qualifyingResults.length>0?d(M):d(S,!1)})}Q(Y,z),ut(),Z()}var qt=X('<tr><td class="p-2 sm:p-3"> </td><td class="p-2 sm:p-3"><a class="hover:underline text-black dark:text-white"> </a></td><td class="p-2 sm:p-3"><a href="constructors" class="hover:underline text-black dark:text-white"> </a></td><td class="p-2 sm:p-3"> </td><td class="p-2 sm:p-3"> </td><td class="p-2 sm:p-3"> </td><td class="p-2 sm:p-3"> </td><td class="p-2 sm:p-3"> </td></tr>'),Mt=X('<h2 class="text-xl sm:text-2xl font-semibold mb-2 text-black dark:text-white"> </h2> <div class="overflow-x-auto mb-10"><table class="min-w-full text-sm sm:text-base border rounded-lg overflow-hidden bg-white dark:bg-gray-800 text-black dark:text-white"><thead class="bg-gray-100 dark:bg-gray-700"><tr><th class="p-2 sm:p-3 text-left"> </th><th class="p-2 sm:p-3 text-left"> </th><th class="p-2 sm:p-3 text-left"> </th><th class="p-2 sm:p-3 text-left"> </th><th class="p-2 sm:p-3 text-left"> </th><th class="p-2 sm:p-3 text-left"> </th><th class="p-2 sm:p-3 text-left"> </th><th class="p-2 sm:p-3 text-left"> </th></tr></thead><tbody></tbody></table></div>',1);function Ot(Y,x){nt(x,!0);const[H,Z]=mt(),v=()=>ot(xt,"$t",H),z=(d,o)=>{let i="";return o===x.fastestLapDriverId&&d<3?i+=" hover:bg-purple-300 dark:hover:bg-purple-700":o===x.fastestLapDriverId&&(i+=" bg-purple-300 dark:bg-purple-700"),d===0&&(i+=" bg-yellow-300 dark:bg-yellow-600"),d===1&&(i+=" bg-gray-200 dark:bg-gray-500"),d===2&&(i+=" bg-amber-500 dark:bg-amber-600"),i};var w=pt(),M=W(w);{var S=d=>{var o=Mt(),i=W(o),$=r(i,!0);t(i);var p=a(i,2),O=r(p),I=r(O),P=r(I),j=r(P),J=r(j,!0);t(j);var _=a(j),A=r(_,!0);t(_);var u=a(_),K=r(u,!0);t(u);var g=a(u),N=r(g,!0);t(g);var R=a(g),F=r(R,!0);t(R);var b=a(R),B=r(b,!0);t(b);var D=a(b),T=r(D,!0);t(D);var c=a(D),L=r(c,!0);t(c),t(P),t(I);var m=a(I);yt(m,21,()=>x.sessions,wt,(h,l,n)=>{var f=qt(),k=r(f),U=r(k,!0);t(k);var C=a(k),y=r(C),tt=r(y);t(y),t(C);var q=a(C),rt=r(q),lt=r(rt,!0);t(rt),t(q);var E=a(q),_t=r(E,!0);t(E);var et=a(E),gt=r(et,!0);t(et);var at=a(et),bt=r(at,!0);t(at);var vt=a(at),ft=r(vt,!0);t(vt);var dt=a(vt),ct=r(dt,!0);t(dt),t(f),V((kt,jt)=>{var Rt;It(f,1,kt),e(U,s(l).position),$t(y,"href",`driver?driverId=${s(l).Driver.driverId??""}`),e(tt,`${s(l).Driver.givenName??""} ${s(l).Driver.familyName??""}`),e(lt,s(l).Constructor.name),e(_t,s(l).grid),e(gt,s(l).laps),e(bt,jt),e(ft,((Rt=s(l).Time)==null?void 0:Rt.time)||s(l).status),e(ct,s(l).points)},[()=>`border-t border-gray-200 dark:border-gray-600 ${z(n,s(l).Driver.driverId)}`,()=>x.pitstops.filter(kt=>kt.driverId===s(l).Driver.driverId).length]),Q(h,f)}),t(m),t(O),t(p),V((h,l,n,f,k,U,C,y,tt)=>{e($,h),e(J,l),e(A,n),e(K,f),e(N,k),e(F,U),e(B,C),e(T,y),e(L,tt)},[()=>v()("race_results"),()=>v()("pos"),()=>v()("driver"),()=>v()("team"),()=>v()("grid"),()=>v()("laps"),()=>v()("pitstops"),()=>v()("time_gap"),()=>v()("points")]),Q(d,o)};ht(M,d=>{x.sessions.length>0&&d(S)})}Q(Y,w),ut(),Z()}var Ft=X('<tr><td class="p-2 sm:p-3"> </td><td class="p-2 sm:p-3"><a class="hover:underline text-black dark:text-white"> </a></td><td class="p-2 sm:p-3"><a href="constructors" class="hover:underline text-black dark:text-white"> </a></td><td class="p-2 sm:p-3"> </td><td class="p-2 sm:p-3"> </td><td class="p-2 sm:p-3"> </td><td class="p-2 sm:p-3"> </td></tr>'),Ut=X('<h2 class="text-xl sm:text-2xl font-semibold mb-2 text-black dark:text-white"> </h2> <div class="overflow-x-auto mb-10"><table class="min-w-full text-sm sm:text-base border rounded-lg overflow-hidden bg-white dark:bg-gray-800 text-black dark:text-white"><thead class="bg-gray-100 dark:bg-gray-700"><tr><th class="p-2 sm:p-3 text-left"> </th><th class="p-2 sm:p-3 text-left"> </th><th class="p-2 sm:p-3 text-left"> </th><th class="p-2 sm:p-3 text-left"> </th><th class="p-2 sm:p-3 text-left"> </th><th class="p-2 sm:p-3 text-left"> </th><th class="p-2 sm:p-3 text-left"> </th></tr></thead><tbody></tbody></table></div>',1);function zt(Y,x){nt(x,!0);const[H,Z]=mt(),v=()=>ot(xt,"$t",H);let z=Dt(x,"sprintResults",19,()=>[]),w=Dt(x,"fastestLapDriverId",3,null);const M=(i,$)=>{let p="";return $===w()&&i<3?p+=" hover:bg-purple-300 dark:hover:bg-purple-700":$===w()&&(p+=" bg-purple-300 dark:bg-purple-700"),i===0&&(p+=" bg-yellow-300 dark:bg-yellow-600"),i===1&&(p+=" bg-gray-200 dark:bg-gray-500"),i===2&&(p+=" bg-amber-500 dark:bg-amber-600"),p};var S=pt(),d=W(S);{var o=i=>{var $=Ut(),p=W($),O=r(p,!0);t(p);var I=a(p,2),P=r(I),j=r(P),J=r(j),_=r(J),A=r(_,!0);t(_);var u=a(_),K=r(u,!0);t(u);var g=a(u),N=r(g,!0);t(g);var R=a(g),F=r(R,!0);t(R);var b=a(R),B=r(b,!0);t(b);var D=a(b),T=r(D,!0);t(D);var c=a(D),L=r(c,!0);t(c),t(J),t(j);var m=a(j);yt(m,21,z,wt,(h,l,n)=>{var f=Ft(),k=r(f),U=r(k,!0);t(k);var C=a(k),y=r(C),tt=r(y);t(y),t(C);var q=a(C),rt=r(q),lt=r(rt,!0);t(rt),t(q);var E=a(q),_t=r(E,!0);t(E);var et=a(E),gt=r(et,!0);t(et);var at=a(et),bt=r(at,!0);t(at);var vt=a(at),ft=r(vt,!0);t(vt),t(f),V(dt=>{var ct;It(f,1,dt),e(U,s(l).position),$t(y,"href",`driver?driverId=${s(l).Driver.driverId??""}`),e(tt,`${s(l).Driver.givenName??""} ${s(l).Driver.familyName??""}`),e(lt,s(l).Constructor.name),e(_t,s(l).grid),e(gt,s(l).laps),e(bt,((ct=s(l).Time)==null?void 0:ct.time)||s(l).status),e(ft,s(l).points)},[()=>`border-t border-gray-200 dark:border-gray-600 ${M(n,s(l).Driver.driverId)}`]),Q(h,f)}),t(m),t(P),t(I),V((h,l,n,f,k,U,C,y)=>{e(O,h),e(A,l),e(K,n),e(N,f),e(F,k),e(B,U),e(T,C),e(L,y)},[()=>v()("sprint_results"),()=>v()("pos"),()=>v()("driver"),()=>v()("team"),()=>v()("grid"),()=>v()("laps"),()=>v()("time_gap"),()=>v()("points")]),Q(i,$)};ht(d,i=>{z().length>0&&i(o)})}Q(Y,S),ut(),Z()}var At=X('<title> </title> <div class="p-4 sm:p-6 text-black dark:text-white"><h1 class="text-2xl sm:text-3xl font-bold mb-2 sm:mb-4"> </h1> <p class="text-sm sm:text-base text-gray-600 dark:text-gray-300 mb-4 sm:mb-6"> </p> <!> <!> <!></div>',1);function Yt(Y,x){nt(x,!0);const[H,Z]=mt(),v=()=>ot(Ct,"$page",H),z=()=>ot(xt,"$t",H),w=v().url.searchParams.get("year"),M=v().url.searchParams.get("round");let S="https://api.jolpi.ca/ergast/f1",d=st(it([])),o=st(it({})),i=st(null),$=st(it([])),p=st(it([])),O=st(it([])),I=st(!0);Nt(async()=>{var c,L,m,h,l;await Lt(),G(I,!1);const u=(await(await fetch(`${S}/${w}/${M}/results`)).json()).MRData.RaceTable.Races;G(d,((c=u[0])==null?void 0:c.Results)||[],!0),G(o,u[0]||{},!0);for(const n of s(d))if(((L=n.FastestLap)==null?void 0:L.rank)==="1"){G(i,n.Driver.driverId,!0);break}const N=(await(await fetch(`${S}/${w}/${M}/qualifying`)).json()).MRData.RaceTable.Races;G($,((m=N[0])==null?void 0:m.QualifyingResults)||[],!0),Object.keys(s(o)).length===0&&G(o,N[0]||{},!0);const b=(await(await fetch(`${S}/${w}/${M}/sprint`)).json()).MRData.RaceTable.Races;G(p,((h=b[0])==null?void 0:h.SprintResults)||[],!0),Object.keys(s(o)).length===0&&G(o,b[0]||{},!0);const T=(await(await fetch(`${S}/${w}/${M}/pitstops`)).json()).MRData.RaceTable.Races;G(O,((l=T[0])==null?void 0:l.PitStops)||[],!0)});var P=pt(),j=W(P);{var J=_=>{var A=At(),u=W(A),K=r(u);t(u);var g=a(u,2),N=r(g),R=r(N);t(N);var F=a(N,2),b=r(F);t(F);var B=a(F,2);Ot(B,{get sessions(){return s(d)},get fastestLapDriverId(){return s(i)},get pitstops(){return s(O)}});var D=a(B,2);zt(D,{get sprintResults(){return s(p)},get fastestLapDriverId(){return s(i)}});var T=a(D,2);Tt(T,{get qualifyingResults(){return s($)}}),t(g),V(c=>{var L,m,h,l,n;e(K,`${s(o).raceName??""} - ${w??""}`),e(R,`${s(o).raceName??""} - ${w??""}`),e(b,`${c??""} ${((L=s(o).Circuit)==null?void 0:L.circuitName)??""} (${((h=(m=s(o).Circuit)==null?void 0:m.Location)==null?void 0:h.locality)??""}, ${((n=(l=s(o).Circuit)==null?void 0:l.Location)==null?void 0:n.country)??""})`)},[()=>z()("location")]),Q(_,A)};ht(j,_=>{s(I)||_(J)})}Q(Y,P),ut(),Z()}export{Yt as component};
