import{c as te,a as _,t as h}from"../chunks/D09H9Ril.js";import{N as re,O as ae,b as se,i as oe,E as le,K as k,m as I,a as ie,M as ne,J as ve,n as g,g as t,F as c,H as M,G as o,I as y}from"../chunks/CPpp9dO7.js";import{d as ce,s as N}from"../chunks/rSjJDcws.js";import{i as R,a as ue,s as de}from"../chunks/hw3Lp3oj.js";import{w as fe,r as _e,s as ge,$ as me,e as W,i as q}from"../chunks/BxyaKOQB.js";import{l as be}from"../chunks/DmmpRyv1.js";import{o as he}from"../chunks/CI6rgBum.js";import{g as xe}from"../chunks/BmjTp0Xk.js";function pe(e,r,d=r){var T=re();be(e,"input",l=>{var a=l?e.defaultValue:e.value;if(a=F(e)?G(a):a,d(a),T&&a!==(a=r())){var E=e.selectionStart,w=e.selectionEnd;e.value=a??"",w!==null&&(e.selectionStart=E,e.selectionEnd=Math.min(w,e.value.length))}}),(ae&&e.defaultValue!==e.value||se(r)==null&&e.value)&&d(F(e)?G(e.value):e.value),oe(()=>{var l=r();F(e)&&l===G(e.value)||e.type==="date"&&!l&&!e.value||l!==e.value&&(e.value=l??"")})}function F(e){var r=e.type;return r==="number"||r==="range"}function G(e){return e===""?null:+e}var ke=(e,r,d)=>r(t(d).driverId),ye=h('<li><button type="button" class="cursor-pointer px-4 py-2 rounded-lg bg-gray-100 dark:bg-gray-700 hover:bg-blue-200 dark:hover:bg-blue-600 text-black dark:text-white"> </button></li>'),we=h('<div><h2 class="text-lg font-semibold mb-2 text-black dark:text-white"> </h2> <ul class="space-y-2"></ul></div>'),$e=(e,r,d)=>r(t(d).url),De=h('<li class="w-full text-left cursor-pointer px-4 py-2 rounded-lg bg-gray-100 dark:bg-gray-700 hover:bg-green-200 dark:hover:bg-green-600 text-black dark:text-white"> </li>'),Ce=h('<div><h2 class="text-lg font-semibold mb-2 text-black dark:text-white"> </h2> <ul class="space-y-2"></ul></div>'),je=h('<p class="text-sm text-gray-500 dark:text-gray-400"> </p>'),Le=h('<div class="mt-6 space-y-6"><!> <!> <!></div>'),Me=h('<div class="max-w-xl mx-auto mt-16 px-4"><input type="text" class="w-full p-3 rounded-xl border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-black dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500"> <!></div>');function Ge(e,r){le(r,!0);const[d,T]=ue(),l=()=>de(me,"$t",d);let a=k(""),E=k(I([])),w=k(I([])),$=k(I([])),D=k(I([])),H=k(!0);he(async()=>{await fe(),g(H,!1);const s=await fetch("https://api.jolpi.ca/ergast/f1/current/drivers.json"),v=await fetch("https://api.jolpi.ca/ergast/f1/current/constructors.json"),x=await s.json(),S=await v.json();g(E,x.MRData.DriverTable.Drivers,!0),g(w,S.MRData.ConstructorTable.Constructors,!0)}),ie(()=>{if(t(a).trim().length>0){const s=t(a).toLowerCase();g($,t(E).filter(v=>`${v.givenName} ${v.familyName}`.toLowerCase().includes(s)),!0),g(D,t(w).filter(v=>v.name.toLowerCase().includes(s)),!0)}else g($,[],!0),g(D,[],!0)});function z(s){xe(`/driver?driverId=${s}`)}function A(s){window.open(s,"_blank")}var J=te(),B=ne(J);{var P=s=>{var v=Me(),x=c(v);_e(x);var S=M(x,2);{var Q=m=>{var V=Le(),K=c(V);{var U=i=>{var n=we(),u=c(n),C=c(u,!0);o(u);var j=M(u,2);W(j,21,()=>t($),q,(b,p)=>{var f=ye(),L=c(f);L.__click=[ke,z,p];var ee=c(L);o(L),o(f),y(()=>N(ee,`${t(p).givenName??""} ${t(p).familyName??""}`)),_(b,f)}),o(j),o(n),y(b=>N(C,b),[()=>l()("drivers")]),_(i,n)};R(K,i=>{t($).length>0&&i(U)})}var O=M(K,2);{var X=i=>{var n=Ce(),u=c(n),C=c(u,!0);o(u);var j=M(u,2);W(j,21,()=>t(D),q,(b,p)=>{var f=De();f.__click=[$e,A,p];var L=c(f,!0);o(f),y(()=>N(L,t(p).name)),_(b,f)}),o(j),o(n),y(b=>N(C,b),[()=>l()("teams")]),_(i,n)};R(O,i=>{t(D).length>0&&i(X)})}var Y=M(O,2);{var Z=i=>{var n=je(),u=c(n,!0);o(n),y(C=>N(u,C),[()=>l()("no_results")]),_(i,n)};R(Y,i=>{t($).length===0&&t(D).length===0&&i(Z)})}o(V),_(m,V)};R(S,m=>{t(a).trim().length>0&&m(Q)})}o(v),y(m=>ge(x,"placeholder",m),[()=>l()("search_text")]),pe(x,()=>t(a),m=>g(a,m)),_(s,v)};R(B,s=>{t(H)||s(P)})}_(e,J),ve(),T()}ce(["click"]);export{Ge as component};
