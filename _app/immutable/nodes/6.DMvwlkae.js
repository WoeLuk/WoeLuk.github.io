import{c as pt,a as Q,t as X,s as r}from"../chunks/Dxuy1mk5.js";import{E as nt,O as W,M as ut,H as e,I as t,J as a,K as V,b as s,N as st,c as it,G as Lt,f as U}from"../chunks/D9So642S.js";import{i as ht,a as mt,s as dt}from"../chunks/BTZNSVys.js";import{e as yt,i as $t,$ as xt,s as wt,w as Nt}from"../chunks/Bnh7NVQW.js";import{p as Ct}from"../chunks/C1fi3Yu5.js";import{s as It}from"../chunks/rZxoGIVg.js";import{p as Dt}from"../chunks/BUpMsk2X.js";var Qt=X('<tr class="border-t border-gray-200 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700"><td class="p-2 sm:p-3"></td><td class="p-2 sm:p-3"><a class="hover:underline text-black dark:text-white"> </a></td><td class="p-2 sm:p-3"><a href="constructors" class="hover:underline text-black dark:text-white"> </a></td><td class="p-2 sm:p-3"> </td><td class="p-2 sm:p-3"> </td><td class="p-2 sm:p-3"> </td></tr>'),St=X('<h2 class="text-xl sm:text-2xl font-semibold mb-2 text-black dark:text-white"> </h2> <div class="overflow-x-auto"><table class="min-w-full text-sm sm:text-base border rounded-lg overflow-hidden bg-white dark:bg-gray-800 text-black dark:text-white"><thead class="bg-gray-100 dark:bg-gray-700 text-black dark:text-white"><tr><th class="p-2 sm:p-3 text-left"> </th><th class="p-2 sm:p-3 text-left"> </th><th class="p-2 sm:p-3 text-left"> </th><th class="p-2 sm:p-3 text-left"> </th><th class="p-2 sm:p-3 text-left"> </th><th class="p-2 sm:p-3 text-left"> </th></tr></thead><tbody></tbody></table></div>',1),Pt=X('<p class="text-gray-500 dark:text-gray-400 mt-4"> </p>');function Mt(Y,x){nt(x,!0);const[z,Z]=mt(),v=()=>dt(xt,"$t",z);var G=pt(),$=W(G);{var q=o=>{var d=St(),i=W(d),w=e(i,!0);t(i);var p=a(i,2),O=e(p),I=e(O),P=e(I),j=e(P),A=e(j,!0);t(j);var _=a(j),H=e(_,!0);t(_);var u=a(_),B=e(u,!0);t(u);var b=a(u),C=e(b,!0);t(b);var R=a(b),E=e(R,!0);t(R);var g=a(R),J=e(g,!0);t(g),t(P),t(I);var D=a(I);yt(D,21,()=>x.qualifyingResults,$t,(M,c,L)=>{var m=Qt(),h=e(m);h.textContent=L+1;var l=a(h),n=e(l),f=e(n);t(n),t(l);var k=a(l),F=e(k),N=e(F,!0);t(F),t(k);var y=a(k),tt=e(y,!0);t(y);var T=a(y),et=e(T,!0);t(T);var lt=a(T),K=e(lt,!0);t(lt),t(m),V(()=>{wt(n,"href",`driver?driverId=${s(c).Driver.driverId??""}`),r(f,`${s(c).Driver.givenName??""} ${s(c).Driver.familyName??""}`),r(N,s(c).Constructor.name),r(tt,s(c).Q1||"-"),r(et,s(c).Q2||"-"),r(K,s(c).Q3||"-")}),Q(M,m)}),t(D),t(O),t(p),V((M,c,L,m,h,l,n)=>{r(w,M),r(A,c),r(H,L),r(B,m),r(C,h),r(E,l),r(J,n)},[()=>v()("quali_results"),()=>v()("pos"),()=>v()("driver"),()=>v()("team"),()=>v()("q1"),()=>v()("q2"),()=>v()("q3")]),Q(o,d)},S=o=>{var d=Pt(),i=e(d,!0);t(d),V(w=>r(i,w),[()=>v()("no_quali_results")]),Q(o,d)};ht($,o=>{x.qualifyingResults.length>0?o(q):o(S,!1)})}Q(Y,G),ut(),Z()}var Tt=X('<tr><td class="p-2 sm:p-3"> </td><td class="p-2 sm:p-3"><a class="hover:underline text-black dark:text-white"> </a></td><td class="p-2 sm:p-3"><a href="constructors" class="hover:underline text-black dark:text-white"> </a></td><td class="p-2 sm:p-3"> </td><td class="p-2 sm:p-3"> </td><td class="p-2 sm:p-3"> </td><td class="p-2 sm:p-3"> </td><td class="p-2 sm:p-3"> </td></tr>'),qt=X('<h2 class="text-xl sm:text-2xl font-semibold mb-2 text-black dark:text-white"> </h2> <div class="overflow-x-auto mb-10"><table class="min-w-full text-sm sm:text-base border rounded-lg overflow-hidden bg-white dark:bg-gray-800 text-black dark:text-white"><thead class="bg-gray-100 dark:bg-gray-700"><tr><th class="p-2 sm:p-3 text-left"> </th><th class="p-2 sm:p-3 text-left"> </th><th class="p-2 sm:p-3 text-left"> </th><th class="p-2 sm:p-3 text-left"> </th><th class="p-2 sm:p-3 text-left"> </th><th class="p-2 sm:p-3 text-left"> </th><th class="p-2 sm:p-3 text-left"> </th><th class="p-2 sm:p-3 text-left"> </th></tr></thead><tbody></tbody></table></div>',1);function Ot(Y,x){nt(x,!0);const[z,Z]=mt(),v=()=>dt(xt,"$t",z),G=(o,d)=>{let i="";return d===x.fastestLapDriverId&&o<3?i+=" hover:bg-purple-300 dark:hover:bg-purple-700":d===x.fastestLapDriverId&&(i+=" bg-purple-300 dark:bg-purple-700"),o===0&&(i+=" bg-yellow-300 dark:bg-yellow-600"),o===1&&(i+=" bg-gray-200 dark:bg-gray-500"),o===2&&(i+=" bg-amber-500 dark:bg-amber-600"),i};var $=pt(),q=W($);{var S=o=>{var d=qt(),i=W(d),w=e(i,!0);t(i);var p=a(i,2),O=e(p),I=e(O),P=e(I),j=e(P),A=e(j,!0);t(j);var _=a(j),H=e(_,!0);t(_);var u=a(_),B=e(u,!0);t(u);var b=a(u),C=e(b,!0);t(b);var R=a(b),E=e(R,!0);t(R);var g=a(R),J=e(g,!0);t(g);var D=a(g),M=e(D,!0);t(D);var c=a(D),L=e(c,!0);t(c),t(P),t(I);var m=a(I);yt(m,21,()=>x.sessions,$t,(h,l,n)=>{var f=Tt(),k=e(f),F=e(k,!0);t(k);var N=a(k),y=e(N),tt=e(y);t(y),t(N);var T=a(N),et=e(T),lt=e(et,!0);t(et),t(T);var K=a(T),_t=e(K,!0);t(K);var rt=a(K),bt=e(rt,!0);t(rt);var at=a(rt),gt=e(at,!0);t(at);var vt=a(at),ft=e(vt,!0);t(vt);var ot=a(vt),ct=e(ot,!0);t(ot),t(f),V((kt,jt)=>{var Rt;It(f,1,kt),r(F,s(l).position),wt(y,"href",`driver?driverId=${s(l).Driver.driverId??""}`),r(tt,`${s(l).Driver.givenName??""} ${s(l).Driver.familyName??""}`),r(lt,s(l).Constructor.name),r(_t,s(l).grid),r(bt,s(l).laps),r(gt,jt),r(ft,((Rt=s(l).Time)==null?void 0:Rt.time)||s(l).status),r(ct,s(l).points)},[()=>`border-t border-gray-200 dark:border-gray-600 ${G(n,s(l).Driver.driverId)}`,()=>x.pitstops.filter(kt=>kt.driverId===s(l).Driver.driverId).length]),Q(h,f)}),t(m),t(O),t(p),V((h,l,n,f,k,F,N,y,tt)=>{r(w,h),r(A,l),r(H,n),r(B,f),r(C,k),r(E,F),r(J,N),r(M,y),r(L,tt)},[()=>v()("race_results"),()=>v()("pos"),()=>v()("driver"),()=>v()("team"),()=>v()("grid"),()=>v()("laps"),()=>v()("pitstops"),()=>v()("time_gap"),()=>v()("points")]),Q(o,d)};ht(q,o=>{x.sessions.length>0&&o(S)})}Q(Y,$),ut(),Z()}var Et=X('<tr><td class="p-2 sm:p-3"> </td><td class="p-2 sm:p-3"><a class="hover:underline text-black dark:text-white"> </a></td><td class="p-2 sm:p-3"><a href="constructors" class="hover:underline text-black dark:text-white"> </a></td><td class="p-2 sm:p-3"> </td><td class="p-2 sm:p-3"> </td><td class="p-2 sm:p-3"> </td><td class="p-2 sm:p-3"> </td></tr>'),Ft=X('<h2 class="text-xl sm:text-2xl font-semibold mb-2 text-black dark:text-white"> </h2> <div class="overflow-x-auto mb-10"><table class="min-w-full text-sm sm:text-base border rounded-lg overflow-hidden bg-white dark:bg-gray-800 text-black dark:text-white"><thead class="bg-gray-100 dark:bg-gray-700"><tr><th class="p-2 sm:p-3 text-left"> </th><th class="p-2 sm:p-3 text-left"> </th><th class="p-2 sm:p-3 text-left"> </th><th class="p-2 sm:p-3 text-left"> </th><th class="p-2 sm:p-3 text-left"> </th><th class="p-2 sm:p-3 text-left"> </th><th class="p-2 sm:p-3 text-left"> </th></tr></thead><tbody></tbody></table></div>',1);function Gt(Y,x){nt(x,!0);const[z,Z]=mt(),v=()=>dt(xt,"$t",z);let G=Dt(x,"sprintResults",19,()=>[]),$=Dt(x,"fastestLapDriverId",3,null);const q=(i,w)=>{let p="";return w===$()&&i<3?p+=" hover:bg-purple-300 dark:hover:bg-purple-700":w===$()&&(p+=" bg-purple-300 dark:bg-purple-700"),i===0&&(p+=" bg-yellow-300 dark:bg-yellow-600"),i===1&&(p+=" bg-gray-200 dark:bg-gray-500"),i===2&&(p+=" bg-amber-500 dark:bg-amber-600"),p};var S=pt(),o=W(S);{var d=i=>{var w=Ft(),p=W(w),O=e(p,!0);t(p);var I=a(p,2),P=e(I),j=e(P),A=e(j),_=e(A),H=e(_,!0);t(_);var u=a(_),B=e(u,!0);t(u);var b=a(u),C=e(b,!0);t(b);var R=a(b),E=e(R,!0);t(R);var g=a(R),J=e(g,!0);t(g);var D=a(g),M=e(D,!0);t(D);var c=a(D),L=e(c,!0);t(c),t(A),t(j);var m=a(j);yt(m,21,G,$t,(h,l,n)=>{var f=Et(),k=e(f),F=e(k,!0);t(k);var N=a(k),y=e(N),tt=e(y);t(y),t(N);var T=a(N),et=e(T),lt=e(et,!0);t(et),t(T);var K=a(T),_t=e(K,!0);t(K);var rt=a(K),bt=e(rt,!0);t(rt);var at=a(rt),gt=e(at,!0);t(at);var vt=a(at),ft=e(vt,!0);t(vt),t(f),V(ot=>{var ct;It(f,1,ot),r(F,s(l).position),wt(y,"href",`driver?driverId=${s(l).Driver.driverId??""}`),r(tt,`${s(l).Driver.givenName??""} ${s(l).Driver.familyName??""}`),r(lt,s(l).Constructor.name),r(_t,s(l).grid),r(bt,s(l).laps),r(gt,((ct=s(l).Time)==null?void 0:ct.time)||s(l).status),r(ft,s(l).points)},[()=>`border-t border-gray-200 dark:border-gray-600 ${q(n,s(l).Driver.driverId)}`]),Q(h,f)}),t(m),t(P),t(I),V((h,l,n,f,k,F,N,y)=>{r(O,h),r(H,l),r(B,n),r(C,f),r(E,k),r(J,F),r(M,N),r(L,y)},[()=>v()("sprint_results"),()=>v()("pos"),()=>v()("driver"),()=>v()("team"),()=>v()("grid"),()=>v()("laps"),()=>v()("time_gap"),()=>v()("points")]),Q(i,w)};ht(o,i=>{G().length>0&&i(d)})}Q(Y,S),ut(),Z()}var Ht=X('<title> </title> <div class="p-4 sm:p-6 text-black dark:text-white"><h1 class="text-2xl sm:text-3xl font-bold mb-2 sm:mb-4"> </h1> <p class="text-sm sm:text-base text-gray-600 dark:text-gray-300 mb-4 sm:mb-6"> </p> <!> <!> <!></div>',1);function Wt(Y,x){nt(x,!0);const[z,Z]=mt(),v=()=>dt(Ct,"$page",z),G=()=>dt(xt,"$t",z),$=v().url.searchParams.get("year"),q=v().url.searchParams.get("round");let S="https://api.jolpi.ca/ergast/f1",o=st(it([])),d=st(it({})),i=st(null),w=st(it([])),p=st(it([])),O=st(it([])),I=st(!0);Lt(async()=>{var c,L,m,h,l;await Nt(),U(I,!1);const u=(await(await fetch(`${S}/${$}/${q}/results`)).json()).MRData.RaceTable.Races;U(o,((c=u[0])==null?void 0:c.Results)||[],!0),U(d,u[0]||{},!0);for(const n of s(o))if(((L=n.FastestLap)==null?void 0:L.rank)==="1"){U(i,n.Driver.driverId,!0);break}const C=(await(await fetch(`${S}/${$}/${q}/qualifying`)).json()).MRData.RaceTable.Races;U(w,((m=C[0])==null?void 0:m.QualifyingResults)||[],!0),Object.keys(s(d)).length===0&&U(d,C[0]||{},!0);const g=(await(await fetch(`${S}/${$}/${q}/sprint`)).json()).MRData.RaceTable.Races;U(p,((h=g[0])==null?void 0:h.SprintResults)||[],!0),Object.keys(s(d)).length===0&&U(d,g[0]||{},!0);const M=(await(await fetch(`${S}/${$}/${q}/pitstops`)).json()).MRData.RaceTable.Races;U(O,((l=M[0])==null?void 0:l.PitStops)||[],!0)});var P=pt(),j=W(P);{var A=_=>{var H=Ht(),u=W(H),B=e(u);t(u);var b=a(u,2),C=e(b),R=e(C);t(C);var E=a(C,2),g=e(E);t(E);var J=a(E,2);Ot(J,{get sessions(){return s(o)},get fastestLapDriverId(){return s(i)},get pitstops(){return s(O)}});var D=a(J,2);Gt(D,{get sprintResults(){return s(p)},get fastestLapDriverId(){return s(i)}});var M=a(D,2);Mt(M,{get qualifyingResults(){return s(w)}}),t(b),V(c=>{var L,m,h,l,n;r(B,`${s(d).raceName??""} - ${$??""}`),r(R,`${s(d).raceName??""} - ${$??""}`),r(g,`${c??""} ${((L=s(d).Circuit)==null?void 0:L.circuitName)??""} (${((h=(m=s(d).Circuit)==null?void 0:m.Location)==null?void 0:h.locality)??""}, ${((n=(l=s(d).Circuit)==null?void 0:l.Location)==null?void 0:n.country)??""})`)},[()=>G()("location")]),Q(_,H)};ht(j,_=>{s(I)||_(A)})}Q(Y,P),ut(),Z()}export{Wt as component};
