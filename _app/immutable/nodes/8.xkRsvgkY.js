import{c as pt,a as Q,t as X}from"../chunks/BkI3zN53.js";import{E as nt,M as W,J as ut,F as r,G as t,H as a,I as V,g as s,K as st,v as it,w as U}from"../chunks/BLUcMZr5.js";import{s as e}from"../chunks/CHLV5_7l.js";import{i as ht,a as mt,s as ot}from"../chunks/CseYTNom.js";import{e as yt,i as wt,$ as xt,s as $t,w as Lt}from"../chunks/DsBcZ_8l.js";import{p as Ct}from"../chunks/BMoYIBa3.js";import{s as It}from"../chunks/CqU0ykXX.js";import{p as Dt}from"../chunks/DL4oVkWf.js";import{o as Nt}from"../chunks/D5lhNXsb.js";var Qt=X('<tr class="border-t border-gray-200 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700"><td class="p-2 sm:p-3"></td><td class="p-2 sm:p-3"><a class="hover:underline text-black dark:text-white"> </a></td><td class="p-2 sm:p-3"><a href="constructors" class="hover:underline text-black dark:text-white"> </a></td><td class="p-2 sm:p-3"> </td><td class="p-2 sm:p-3"> </td><td class="p-2 sm:p-3"> </td></tr>'),St=X('<h2 class="text-xl sm:text-2xl font-semibold mb-2 text-black dark:text-white"> </h2> <div class="overflow-x-auto"><table class="min-w-full text-sm sm:text-base border rounded-lg overflow-hidden bg-white dark:bg-gray-800 text-black dark:text-white"><thead class="bg-gray-100 dark:bg-gray-700 text-black dark:text-white"><tr><th class="p-2 sm:p-3 text-left"> </th><th class="p-2 sm:p-3 text-left"> </th><th class="p-2 sm:p-3 text-left"> </th><th class="p-2 sm:p-3 text-left"> </th><th class="p-2 sm:p-3 text-left"> </th><th class="p-2 sm:p-3 text-left"> </th></tr></thead><tbody></tbody></table></div>',1),Pt=X('<p class="text-gray-500 dark:text-gray-400 mt-4"> </p>');function Mt(Y,x){nt(x,!0);const[z,Z]=mt(),v=()=>ot(xt,"$t",z);var G=pt(),w=W(G);{var q=d=>{var o=St(),i=W(o),$=r(i,!0);t(i);var p=a(i,2),F=r(p),I=r(F),P=r(I),j=r(P),A=r(j,!0);t(j);var _=a(j),H=r(_,!0);t(_);var u=a(_),B=r(u,!0);t(u);var g=a(u),N=r(g,!0);t(g);var R=a(g),O=r(R,!0);t(R);var b=a(R),J=r(b,!0);t(b),t(P),t(I);var D=a(I);yt(D,21,()=>x.qualifyingResults,wt,(M,c,L)=>{var m=Qt(),h=r(m);h.textContent=L+1;var l=a(h),n=r(l),f=r(n);t(n),t(l);var k=a(l),E=r(k),C=r(E,!0);t(E),t(k);var y=a(k),tt=r(y,!0);t(y);var T=a(y),rt=r(T,!0);t(T);var lt=a(T),K=r(lt,!0);t(lt),t(m),V(()=>{$t(n,"href",`driver?driverId=${s(c).Driver.driverId??""}`),e(f,`${s(c).Driver.givenName??""} ${s(c).Driver.familyName??""}`),e(C,s(c).Constructor.name),e(tt,s(c).Q1||"-"),e(rt,s(c).Q2||"-"),e(K,s(c).Q3||"-")}),Q(M,m)}),t(D),t(F),t(p),V((M,c,L,m,h,l,n)=>{e($,M),e(A,c),e(H,L),e(B,m),e(N,h),e(O,l),e(J,n)},[()=>v()("quali_results"),()=>v()("pos"),()=>v()("driver"),()=>v()("team"),()=>v()("q1"),()=>v()("q2"),()=>v()("q3")]),Q(d,o)},S=d=>{var o=Pt(),i=r(o,!0);t(o),V($=>e(i,$),[()=>v()("no_quali_results")]),Q(d,o)};ht(w,d=>{x.qualifyingResults.length>0?d(q):d(S,!1)})}Q(Y,G),ut(),Z()}var Tt=X('<tr><td class="p-2 sm:p-3"> </td><td class="p-2 sm:p-3"><a class="hover:underline text-black dark:text-white"> </a></td><td class="p-2 sm:p-3"><a href="constructors" class="hover:underline text-black dark:text-white"> </a></td><td class="p-2 sm:p-3"> </td><td class="p-2 sm:p-3"> </td><td class="p-2 sm:p-3"> </td><td class="p-2 sm:p-3"> </td><td class="p-2 sm:p-3"> </td></tr>'),qt=X('<h2 class="text-xl sm:text-2xl font-semibold mb-2 text-black dark:text-white"> </h2> <div class="overflow-x-auto mb-10"><table class="min-w-full text-sm sm:text-base border rounded-lg overflow-hidden bg-white dark:bg-gray-800 text-black dark:text-white"><thead class="bg-gray-100 dark:bg-gray-700"><tr><th class="p-2 sm:p-3 text-left"> </th><th class="p-2 sm:p-3 text-left"> </th><th class="p-2 sm:p-3 text-left"> </th><th class="p-2 sm:p-3 text-left"> </th><th class="p-2 sm:p-3 text-left"> </th><th class="p-2 sm:p-3 text-left"> </th><th class="p-2 sm:p-3 text-left"> </th><th class="p-2 sm:p-3 text-left"> </th></tr></thead><tbody></tbody></table></div>',1);function Ft(Y,x){nt(x,!0);const[z,Z]=mt(),v=()=>ot(xt,"$t",z),G=(d,o)=>{let i="";return o===x.fastestLapDriverId&&d<3?i+=" hover:bg-purple-300 dark:hover:bg-purple-700":o===x.fastestLapDriverId&&(i+=" bg-purple-300 dark:bg-purple-700"),d===0&&(i+=" bg-yellow-300 dark:bg-yellow-600"),d===1&&(i+=" bg-gray-200 dark:bg-gray-500"),d===2&&(i+=" bg-amber-500 dark:bg-amber-600"),i};var w=pt(),q=W(w);{var S=d=>{var o=qt(),i=W(o),$=r(i,!0);t(i);var p=a(i,2),F=r(p),I=r(F),P=r(I),j=r(P),A=r(j,!0);t(j);var _=a(j),H=r(_,!0);t(_);var u=a(_),B=r(u,!0);t(u);var g=a(u),N=r(g,!0);t(g);var R=a(g),O=r(R,!0);t(R);var b=a(R),J=r(b,!0);t(b);var D=a(b),M=r(D,!0);t(D);var c=a(D),L=r(c,!0);t(c),t(P),t(I);var m=a(I);yt(m,21,()=>x.sessions,wt,(h,l,n)=>{var f=Tt(),k=r(f),E=r(k,!0);t(k);var C=a(k),y=r(C),tt=r(y);t(y),t(C);var T=a(C),rt=r(T),lt=r(rt,!0);t(rt),t(T);var K=a(T),_t=r(K,!0);t(K);var et=a(K),gt=r(et,!0);t(et);var at=a(et),bt=r(at,!0);t(at);var vt=a(at),ft=r(vt,!0);t(vt);var dt=a(vt),ct=r(dt,!0);t(dt),t(f),V((kt,jt)=>{var Rt;It(f,1,kt),e(E,s(l).position),$t(y,"href",`driver?driverId=${s(l).Driver.driverId??""}`),e(tt,`${s(l).Driver.givenName??""} ${s(l).Driver.familyName??""}`),e(lt,s(l).Constructor.name),e(_t,s(l).grid),e(gt,s(l).laps),e(bt,jt),e(ft,((Rt=s(l).Time)==null?void 0:Rt.time)||s(l).status),e(ct,s(l).points)},[()=>`border-t border-gray-200 dark:border-gray-600 ${G(n,s(l).Driver.driverId)}`,()=>x.pitstops.filter(kt=>kt.driverId===s(l).Driver.driverId).length]),Q(h,f)}),t(m),t(F),t(p),V((h,l,n,f,k,E,C,y,tt)=>{e($,h),e(A,l),e(H,n),e(B,f),e(N,k),e(O,E),e(J,C),e(M,y),e(L,tt)},[()=>v()("race_results"),()=>v()("pos"),()=>v()("driver"),()=>v()("team"),()=>v()("grid"),()=>v()("laps"),()=>v()("pitstops"),()=>v()("time_gap"),()=>v()("points")]),Q(d,o)};ht(q,d=>{x.sessions.length>0&&d(S)})}Q(Y,w),ut(),Z()}var Ot=X('<tr><td class="p-2 sm:p-3"> </td><td class="p-2 sm:p-3"><a class="hover:underline text-black dark:text-white"> </a></td><td class="p-2 sm:p-3"><a href="constructors" class="hover:underline text-black dark:text-white"> </a></td><td class="p-2 sm:p-3"> </td><td class="p-2 sm:p-3"> </td><td class="p-2 sm:p-3"> </td><td class="p-2 sm:p-3"> </td></tr>'),Et=X('<h2 class="text-xl sm:text-2xl font-semibold mb-2 text-black dark:text-white"> </h2> <div class="overflow-x-auto mb-10"><table class="min-w-full text-sm sm:text-base border rounded-lg overflow-hidden bg-white dark:bg-gray-800 text-black dark:text-white"><thead class="bg-gray-100 dark:bg-gray-700"><tr><th class="p-2 sm:p-3 text-left"> </th><th class="p-2 sm:p-3 text-left"> </th><th class="p-2 sm:p-3 text-left"> </th><th class="p-2 sm:p-3 text-left"> </th><th class="p-2 sm:p-3 text-left"> </th><th class="p-2 sm:p-3 text-left"> </th><th class="p-2 sm:p-3 text-left"> </th></tr></thead><tbody></tbody></table></div>',1);function Gt(Y,x){nt(x,!0);const[z,Z]=mt(),v=()=>ot(xt,"$t",z);let G=Dt(x,"sprintResults",19,()=>[]),w=Dt(x,"fastestLapDriverId",3,null);const q=(i,$)=>{let p="";return $===w()&&i<3?p+=" hover:bg-purple-300 dark:hover:bg-purple-700":$===w()&&(p+=" bg-purple-300 dark:bg-purple-700"),i===0&&(p+=" bg-yellow-300 dark:bg-yellow-600"),i===1&&(p+=" bg-gray-200 dark:bg-gray-500"),i===2&&(p+=" bg-amber-500 dark:bg-amber-600"),p};var S=pt(),d=W(S);{var o=i=>{var $=Et(),p=W($),F=r(p,!0);t(p);var I=a(p,2),P=r(I),j=r(P),A=r(j),_=r(A),H=r(_,!0);t(_);var u=a(_),B=r(u,!0);t(u);var g=a(u),N=r(g,!0);t(g);var R=a(g),O=r(R,!0);t(R);var b=a(R),J=r(b,!0);t(b);var D=a(b),M=r(D,!0);t(D);var c=a(D),L=r(c,!0);t(c),t(A),t(j);var m=a(j);yt(m,21,G,wt,(h,l,n)=>{var f=Ot(),k=r(f),E=r(k,!0);t(k);var C=a(k),y=r(C),tt=r(y);t(y),t(C);var T=a(C),rt=r(T),lt=r(rt,!0);t(rt),t(T);var K=a(T),_t=r(K,!0);t(K);var et=a(K),gt=r(et,!0);t(et);var at=a(et),bt=r(at,!0);t(at);var vt=a(at),ft=r(vt,!0);t(vt),t(f),V(dt=>{var ct;It(f,1,dt),e(E,s(l).position),$t(y,"href",`driver?driverId=${s(l).Driver.driverId??""}`),e(tt,`${s(l).Driver.givenName??""} ${s(l).Driver.familyName??""}`),e(lt,s(l).Constructor.name),e(_t,s(l).grid),e(gt,s(l).laps),e(bt,((ct=s(l).Time)==null?void 0:ct.time)||s(l).status),e(ft,s(l).points)},[()=>`border-t border-gray-200 dark:border-gray-600 ${q(n,s(l).Driver.driverId)}`]),Q(h,f)}),t(m),t(P),t(I),V((h,l,n,f,k,E,C,y)=>{e(F,h),e(H,l),e(B,n),e(N,f),e(O,k),e(J,E),e(M,C),e(L,y)},[()=>v()("sprint_results"),()=>v()("pos"),()=>v()("driver"),()=>v()("team"),()=>v()("grid"),()=>v()("laps"),()=>v()("time_gap"),()=>v()("points")]),Q(i,$)};ht(d,i=>{G().length>0&&i(o)})}Q(Y,S),ut(),Z()}var Ht=X('<title> </title> <div class="p-4 sm:p-6 text-black dark:text-white"><h1 class="text-2xl sm:text-3xl font-bold mb-2 sm:mb-4"> </h1> <p class="text-sm sm:text-base text-gray-600 dark:text-gray-300 mb-4 sm:mb-6"> </p> <!> <!> <!></div>',1);function Yt(Y,x){nt(x,!0);const[z,Z]=mt(),v=()=>ot(Ct,"$page",z),G=()=>ot(xt,"$t",z),w=v().url.searchParams.get("year"),q=v().url.searchParams.get("round");let S="https://api.jolpi.ca/ergast/f1",d=st(it([])),o=st(it({})),i=st(null),$=st(it([])),p=st(it([])),F=st(it([])),I=st(!0);Nt(async()=>{var c,L,m,h,l;await Lt(),U(I,!1);const u=(await(await fetch(`${S}/${w}/${q}/results`)).json()).MRData.RaceTable.Races;U(d,((c=u[0])==null?void 0:c.Results)||[],!0),U(o,u[0]||{},!0);for(const n of s(d))if(((L=n.FastestLap)==null?void 0:L.rank)==="1"){U(i,n.Driver.driverId,!0);break}const N=(await(await fetch(`${S}/${w}/${q}/qualifying`)).json()).MRData.RaceTable.Races;U($,((m=N[0])==null?void 0:m.QualifyingResults)||[],!0),Object.keys(s(o)).length===0&&U(o,N[0]||{},!0);const b=(await(await fetch(`${S}/${w}/${q}/sprint`)).json()).MRData.RaceTable.Races;U(p,((h=b[0])==null?void 0:h.SprintResults)||[],!0),Object.keys(s(o)).length===0&&U(o,b[0]||{},!0);const M=(await(await fetch(`${S}/${w}/${q}/pitstops`)).json()).MRData.RaceTable.Races;U(F,((l=M[0])==null?void 0:l.PitStops)||[],!0)});var P=pt(),j=W(P);{var A=_=>{var H=Ht(),u=W(H),B=r(u);t(u);var g=a(u,2),N=r(g),R=r(N);t(N);var O=a(N,2),b=r(O);t(O);var J=a(O,2);Ft(J,{get sessions(){return s(d)},get fastestLapDriverId(){return s(i)},get pitstops(){return s(F)}});var D=a(J,2);Gt(D,{get sprintResults(){return s(p)},get fastestLapDriverId(){return s(i)}});var M=a(D,2);Mt(M,{get qualifyingResults(){return s($)}}),t(g),V(c=>{var L,m,h,l,n;e(B,`${s(o).raceName??""} - ${w??""}`),e(R,`${s(o).raceName??""} - ${w??""}`),e(b,`${c??""} ${((L=s(o).Circuit)==null?void 0:L.circuitName)??""} (${((h=(m=s(o).Circuit)==null?void 0:m.Location)==null?void 0:h.locality)??""}, ${((n=(l=s(o).Circuit)==null?void 0:l.Location)==null?void 0:n.country)??""})`)},[()=>G()("location")]),Q(_,H)};ht(j,_=>{s(I)||_(A)})}Q(Y,P),ut(),Z()}export{Yt as component};
